{"version":3,"sources":["scss/layout.module.scss","components/Album/album.module.scss","scss/typography.module.scss","components/Image/image.module.scss","components/Loader/loader.module.scss","redux/slices/gallerySlice.js","redux/saga.js","redux/store.js","components/Album/index.js","components/AlbumsList/index.js","components/Image/index.js","components/Popup/index.js","components/ImagesList/index.js","components/Loader/index.js","components/App/index.js","index.js","components/Popup/popup.module.scss"],"names":["module","exports","initialState","items","currentAlbumImages","currentImage","isLoading","popapIsOpenned","albumsListSlice","createSlice","name","reducers","reset","state","getAlbums","getAlbumsSuccess","action","payload","getAlbumsFailure","getAlbumMeta","getAlbumMetaSuccess","map","album","id","albumId","imagesNumber","thumbnailUrl","getAlbumMetaFailure","setCurrentAlbumId","currentAlbumId","getAlbumImages","getAlbumImagesSuccess","getAlbumImagesFailure","getImages","getImagesSuccess","getImagesFailure","setCurrentImage","find","image","openPopup","closePopup","actions","requestAlbums","requestAlbumMeta","requestAlbumImages","albumsWatcher","fetch","albumsResponse","json","albums","put","type","console","error","firstImageResponse","headers","get","firstPhoto","url","albumImagesResponse","albumImages","takeEvery","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","galleryReducer","middleware","getDefaultMiddleware","run","sagas","Album","props","dispatch","useDispatch","history","useHistory","useEffect","className","layout","item","styles","onClick","push","title","thumbnail","src","alt","meta","label","AlbumsList","useSelector","gallery","Image","Popup","useState","offset","setOffset","popup","content","viewport","navigation","navigationPrev","currentImageIndex","findIndex","navigationNext","length","close","carousel","arrow","arrowLeft","arrowRight","carouselContent","style","left","carouselItem","ImagesList","Loader","loader","App","basename","exact","path","typography","h1","a","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.689c7c66.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"layout_gallery__3womD\",\"item\":\"layout_item__2R4Y3\",\"appear\":\"layout_appear__2iSgk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"album_item__HqEl5\",\"thumbnail\":\"album_thumbnail__f6ICF\",\"meta\":\"album_meta__3zpkn\",\"name\":\"album_name__3czYe\",\"label\":\"album_label__2Ju1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"typography_h1__kQ9fz\",\"a\":\"typography_a__8hNGT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"image_item__326qo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1cg14\",\"loading\":\"loader_loading__1KCrl\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState =  {\r\n  items: [],\r\n  currentAlbumImages: [],\r\n  currentImage: {},\r\n  isLoading: false,\r\n  popapIsOpenned: false,\r\n};\r\n\r\nexport const albumsListSlice = createSlice({\r\n    name: 'albums', \r\n    initialState,\r\n    reducers: {\r\n        reset: state => initialState,\r\n        getAlbums: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumsSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = [...action.payload];\r\n        },\r\n        getAlbumsFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        getAlbumMeta: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumMetaSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = state.items.map(album => album.id === action.payload.albumId ? {...album, \r\n            imagesNumber: action.payload.imagesNumber,\r\n            thumbnailUrl: action.payload.thumbnailUrl\r\n          } : album);\r\n        },\r\n        getAlbumMetaFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        setCurrentAlbumId: (state, action) => {\r\n          state.currentAlbumId = action.payload;\r\n        },\r\n        getAlbumImages: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumImagesSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.currentAlbumImages = [...action.payload];\r\n        },\r\n        getAlbumImagesFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        getImages: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getImagesSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = [...action.payload];\r\n        },\r\n        getImagesFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        setCurrentImage: (state, action) => {\r\n          state.currentImage = state.currentAlbumImages.find(image => image.id === action.payload);\r\n        },\r\n        openPopup: state => {\r\n          state.popapIsOpenned = true;\r\n        },\r\n        closePopup: state => {\r\n          state.popapIsOpenned = false;\r\n        }\r\n    },\r\n  });\r\n\r\n  export const { \r\n    reset,\r\n    getAlbums,\r\n    getAlbumsSuccess,\r\n    getAlbumsFailure,\r\n    getAlbumMeta,\r\n    getAlbumMetaSuccess,\r\n    getAlbumMetaFailure,\r\n    getAlbumImages,\r\n    getAlbumImagesSuccess,\r\n    getAlbumImagesFailure,\r\n    setCurrentAlbumId,\r\n    setCurrentImage,\r\n    openPopup,\r\n    closePopup } = albumsListSlice.actions;\r\n  \r\n  export default albumsListSlice.reducer;","import { put, takeEvery, select } from 'redux-saga/effects';\r\nimport { \r\n    getAlbums,\r\n    getAlbumsSuccess,\r\n    getAlbumsFailure, \r\n    getAlbumImages, \r\n    getAlbumImagesSuccess,\r\n    getAlbumImagesFailure,\r\n    getAlbumMeta,\r\n    getAlbumMetaSuccess,\r\n    getAlbumMetaFailure\r\n} from './slices/gallerySlice';\r\n\r\nfunction* requestAlbums() {\r\n    try {\r\n        let albumsResponse = yield fetch('https://jsonplaceholder.typicode.com/albums');\r\n        const albums = yield albumsResponse.json();\r\n\r\n        yield put({ type: getAlbumsSuccess.type, payload: albums });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumsFailure.type });\r\n    }\r\n}\r\n\r\nfunction* requestAlbumMeta(action) {\r\n    try {\r\n        let firstImageResponse = yield fetch(`https://jsonplaceholder.typicode.com/albums/${action.payload}/photos?_start=0&_limit=1`);\r\n        const imagesNumber = firstImageResponse.headers.get('x-total-count');\r\n        const firstPhoto = yield firstImageResponse.json();\r\n        \r\n        yield put({\r\n            type: getAlbumMetaSuccess.type, \r\n            payload: {\r\n                thumbnailUrl: firstPhoto[0].url,\r\n                imagesNumber,\r\n                albumId: firstPhoto[0].albumId\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumMetaFailure.type });\r\n    }\r\n}\r\n\r\nfunction* requestAlbumImages(action) {\r\n    try {\r\n        let albumImagesResponse = yield fetch(`https://jsonplaceholder.typicode.com/albums/${action.payload}/photos`);\r\n        const albumImages = yield albumImagesResponse.json();\r\n        \r\n        yield put({ type: getAlbumImagesSuccess.type, payload: albumImages });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumImagesFailure.type });\r\n    }\r\n}\r\n\r\nfunction* albumsWatcher() {\r\n    yield takeEvery(getAlbums.type, requestAlbums);\r\n    yield takeEvery(getAlbumImages.type, requestAlbumImages);\r\n    yield takeEvery(getAlbumMeta.type, requestAlbumMeta);\r\n}\r\n\r\nexport default albumsWatcher;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport sagas from './saga.js';\r\nimport galleryReducer from './slices/gallerySlice';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store =  configureStore({\r\n  reducer: {\r\n    albums: galleryReducer,\r\n  },\r\n  middleware: [...getDefaultMiddleware(),  sagaMiddleware]\r\n});\r\n\r\nsagaMiddleware.run(sagas);\r\n\r\nexport default store;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCurrentAlbumId, getAlbumMeta } from '../../redux/slices/gallerySlice';\r\nimport styles from './album.module.scss';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction Album(props) {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        dispatch(getAlbumMeta(props.id));\r\n    }, [])\r\n    \r\n    const handleClick = () => {\r\n        history.push(`/album/${props.title}`);\r\n        dispatch(setCurrentAlbumId(props.id));\r\n    }\r\n\r\n    return (\r\n        <div className={`${layout.item} ${styles.item}`} onClick={handleClick}>\r\n            {props.thumbnailUrl && <img  className={styles.thumbnail} src={props.thumbnailUrl} alt={props.title} />}\r\n            <div className={styles.meta}>\r\n                <span className={styles.name}>{props.title}</span>\r\n                {props.imagesNumber && <span className={styles.label}>{props.imagesNumber} images</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Album;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getAlbums, reset } from '../../redux/slices/gallerySlice';\r\nimport Album from '../Album';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction AlbumsList() {\r\n    const dispatch = useDispatch();\r\n    const albums = useSelector(state => state.albums);\r\n\r\n    useEffect(() => {\r\n        dispatch(reset());\r\n        dispatch(getAlbums());\r\n    }, []);\r\n    \r\n    return (\r\n        <div className={layout.gallery}>\r\n            {albums.items.map(album => <Album key={album.id} {...album} />)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AlbumsList;","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrentImage, openPopup } from '../../redux/slices/gallerySlice';\r\nimport layout from '../../scss/layout.module.scss';\r\nimport styles from './image.module.scss';\r\n\r\nfunction Image(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = () => {\r\n        dispatch(openPopup());\r\n        dispatch(setCurrentImage(props.id));\r\n    }\r\n\r\n    return (\r\n        <div className={layout.item} onClick={handleClick}>\r\n            <img className={styles.item} src={props.url} alt={props.title} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Image;","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setCurrentImage, closePopup } from '../../redux/slices/gallerySlice';\r\nimport styles from './popup.module.scss';\r\n\r\nfunction Popup(props) {\r\n    const dispatch = useDispatch();\r\n    const currentAlbumImages = useSelector(state => state.albums.currentAlbumImages);\r\n    const currentImage = useSelector(state => state.albums.currentImage);\r\n    const [offset, setOffset] = useState(0);\r\n\r\n    const handleImageClick = id => () => {\r\n        dispatch(setCurrentImage(id));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        dispatch(closePopup());\r\n    }\r\n\r\n    const handleLeftClick = () => {\r\n        if (offset > 0) {\r\n            setOffset(offset - 1);\r\n        }\r\n    }\r\n\r\n    const handleRightClick = () => {\r\n        if (offset < currentAlbumImages.length) {\r\n            setOffset(offset + 1);\r\n        }\r\n    }\r\n\r\n    const handlePrev = () => {\r\n        const currentImageIndex = currentAlbumImages.findIndex(image => image.id === currentImage.id);\r\n        if (currentImageIndex > 0) {\r\n            dispatch(setCurrentImage(currentAlbumImages[currentImageIndex - 1].id));\r\n        }\r\n    }\r\n\r\n    const handleNext = () => {\r\n        const currentImageIndex = currentAlbumImages.findIndex(image => image.id === currentImage.id);\r\n        if (currentImageIndex <= currentAlbumImages.length - 2) {\r\n            dispatch(setCurrentImage(currentAlbumImages[currentImageIndex].id + 1));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.popup}>\r\n            <div className={styles.content}>\r\n                <div className={styles.viewport}>\r\n                    <img className={styles.image} src={currentImage.url} alt={props.alt}/>\r\n                    <button className={`${styles.navigation} ${styles.navigationPrev}`} onClick={handlePrev} />\r\n                    <button className={`${styles.navigation} ${styles.navigationNext}`} onClick={handleNext} />\r\n                </div>\r\n                <button className={styles.close} onClick={handleClose} />\r\n                <div className={styles.carousel}>\r\n                    {offset > 0 && <button className={`${styles.arrow} ${styles.arrowLeft}`} onClick={handleLeftClick} />}\r\n                    {offset < currentAlbumImages.length - 1 && <button className={`${styles.arrow} ${styles.arrowRight}`} onClick={handleRightClick} />}\r\n                    <div className={styles.carouselContent} style={{left: -offset * 9 + 'rem'}}>\r\n                        {currentAlbumImages && currentAlbumImages.map(image => <img \r\n                            key={image.id} \r\n                            className={styles.carouselItem} \r\n                            src={image.thumbnailUrl} \r\n                            alt={image.title} \r\n                            onClick={handleImageClick(image.id)}\r\n                        />)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Popup;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getAlbumImages } from '../../redux/slices/gallerySlice';\r\nimport Image from '../Image';\r\nimport Popup from '../Popup';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction ImagesList() {\r\n    const dispatch = useDispatch();\r\n    const currentAlbumId = useSelector(state => state.albums.currentAlbumId);\r\n    const currentAlbumImages = useSelector(state => state.albums.currentAlbumImages);\r\n    const popapIsOpenned = useSelector(state => state.albums.popapIsOpenned);\r\n\r\n    useEffect(() => {\r\n        dispatch(getAlbumImages(currentAlbumId));\r\n    }, []);\r\n    \r\n    return (\r\n        <div className={layout.gallery}>\r\n            {popapIsOpenned &&  <Popup />}\r\n            {currentAlbumImages && currentAlbumImages.map(image => <Image key={image.id} {...image} />)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagesList;","import React from 'react';\r\nimport styles from './loader.module.scss';\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={styles.loader}></div>\r\n    );\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport AlbumList from '../AlbumsList';\r\nimport ImagesList from '../ImagesList';\r\nimport Loader from '../Loader';\r\nimport typography from '../../scss/typography.module.scss';\r\n\r\nfunction App() {\r\n  const isLoading = useSelector(state => state.albums.isLoading);\r\n\r\n  return (\r\n    <Router basename=\"/react-gallery\">\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <h1 className={typography.h1}>Albums</h1>\r\n          {isLoading && <Loader />}\r\n          <AlbumList />\r\n        </Route>\r\n        <Route path='/album'>\r\n          <h1 className={typography.h1}><Link className={`${typography.h1} ${typography.a}`} to='/'>Back to albums</Link></h1>\r\n          {isLoading && <Loader />}\r\n          <ImagesList />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport App from './components/App';\r\nimport './base.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"popup_popup__2YH9o\",\"content\":\"popup_content__3VHBz\",\"close\":\"popup_close__3KaXq\",\"navigation\":\"popup_navigation__3Wnr6\",\"navigationPrev\":\"popup_navigationPrev__q9f0D\",\"navigationNext\":\"popup_navigationNext__2a18i\",\"viewport\":\"popup_viewport__zkdCj\",\"image\":\"popup_image__2uNB1\",\"carousel\":\"popup_carousel__9ZFPa\",\"arrow\":\"popup_arrow__3CqmY\",\"carouselContent\":\"popup_carouselContent__3uJKs\",\"carouselItem\":\"popup_carouselItem__2qF0f\",\"arrowLeft\":\"popup_arrowLeft__1G9Un\",\"arrowRight\":\"popup_arrowRight__1J-7z\"};"],"sourceRoot":""}