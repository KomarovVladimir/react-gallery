{"version":3,"sources":["scss/layout.module.scss","components/Album/album.module.scss","scss/typography.module.scss","components/Image/image.module.scss","components/Loader/loader.module.scss","redux/slices/albumsSlice.js","redux/saga.js","redux/store.js","components/Album/index.js","components/AlbumsList/index.js","components/Image/index.js","components/Popup/index.js","components/ImagesList/index.js","components/Loader/index.js","components/App/index.js","index.js","components/Popup/popup.module.scss"],"names":["module","exports","initialState","items","currentAlbumImages","currentImage","isLoading","popapIsOpenned","albumsListSlice","createSlice","name","reducers","reset","state","getAlbums","getAlbumsSuccess","action","payload","getAlbumsFailure","getAlbumMeta","getAlbumMetaSuccess","map","album","id","albumId","imagesNumber","thumbnailUrl","getAlbumMetaFailure","setCurrentAlbumId","currentAlbumId","getAlbumImages","getAlbumImagesSuccess","getAlbumImagesFailure","getImages","getImagesSuccess","getImagesFailure","setCurrentImage","find","image","openPopup","closePopup","actions","requestAlbums","requestAlbumMeta","requestAlbumImages","albumsWatcher","fetch","albumsResponse","json","albums","put","type","console","error","firstImageResponse","headers","get","firstPhoto","url","albumImagesResponse","albumImages","takeEvery","persistConfig","key","version","storage","rootReducer","combineReducers","albumsReducer","persistedReducer","persistReducer","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","run","sagas","Album","props","dispatch","useDispatch","history","useHistory","useEffect","className","layout","item","styles","onClick","push","thumbnail","src","alt","title","meta","label","AlbumsList","useSelector","gallery","Image","Popup","useState","offset","setOffset","popup","content","viewport","navigation","navigationPrev","currentImageIndex","findIndex","navigationNext","length","close","carousel","arrow","arrowLeft","arrowRight","carouselContent","style","left","carouselItem","ImagesList","Loader","loader","App","basename","exact","path","typography","h1","a","to","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.7f3748fc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"layout_gallery__3womD\",\"item\":\"layout_item__2R4Y3\",\"appear\":\"layout_appear__2iSgk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"album_item__HqEl5\",\"thumbnail\":\"album_thumbnail__f6ICF\",\"meta\":\"album_meta__3zpkn\",\"name\":\"album_name__3czYe\",\"label\":\"album_label__2Ju1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"typography_h1__kQ9fz\",\"a\":\"typography_a__8hNGT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"image_item__326qo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1cg14\",\"loading\":\"loader_loading__1KCrl\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState =  {\r\n  items: [],\r\n  currentAlbumImages: [],\r\n  currentImage: {},\r\n  isLoading: false,\r\n  popapIsOpenned: false,\r\n};\r\n\r\nexport const albumsListSlice = createSlice({\r\n    name: 'albums', \r\n    initialState,\r\n    reducers: {\r\n        reset: state => initialState,\r\n        getAlbums: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumsSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = [...action.payload];\r\n        },\r\n        getAlbumsFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        getAlbumMeta: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumMetaSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = state.items.map(album => album.id === action.payload.albumId ? {...album, \r\n            imagesNumber: action.payload.imagesNumber,\r\n            thumbnailUrl: action.payload.thumbnailUrl\r\n          } : album);\r\n        },\r\n        getAlbumMetaFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        setCurrentAlbumId: (state, action) => {\r\n          state.currentAlbumId = action.payload;\r\n        },\r\n        getAlbumImages: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getAlbumImagesSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.currentAlbumImages = [...action.payload];\r\n        },\r\n        getAlbumImagesFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        getImages: state => {\r\n          state.isLoading = true;\r\n        },\r\n        getImagesSuccess: (state, action) => {\r\n          state.isLoading = false;\r\n          state.items = [...action.payload];\r\n        },\r\n        getImagesFailure: state => {\r\n          state.isLoading = false;\r\n        },\r\n        setCurrentImage: (state, action) => {\r\n          state.currentImage = state.currentAlbumImages.find(image => image.id === action.payload);\r\n        },\r\n        openPopup: state => {\r\n          state.popapIsOpenned = true;\r\n        },\r\n        closePopup: state => {\r\n          state.popapIsOpenned = false;\r\n        }\r\n    },\r\n  });\r\n\r\n  export const { \r\n    reset,\r\n    getAlbums,\r\n    getAlbumsSuccess,\r\n    getAlbumsFailure,\r\n    getAlbumMeta,\r\n    getAlbumMetaSuccess,\r\n    getAlbumMetaFailure,\r\n    getAlbumImages,\r\n    getAlbumImagesSuccess,\r\n    getAlbumImagesFailure,\r\n    setCurrentAlbumId,\r\n    setCurrentImage,\r\n    openPopup,\r\n    closePopup } = albumsListSlice.actions;\r\n  \r\n  export default albumsListSlice.reducer;","import { put, takeEvery } from 'redux-saga/effects';\r\nimport { \r\n    getAlbums,\r\n    getAlbumsSuccess,\r\n    getAlbumsFailure, \r\n    getAlbumImages, \r\n    getAlbumImagesSuccess,\r\n    getAlbumImagesFailure,\r\n    getAlbumMeta,\r\n    getAlbumMetaSuccess,\r\n    getAlbumMetaFailure\r\n} from './slices/albumsSlice';\r\n\r\nfunction* requestAlbums() {\r\n    try {\r\n        let albumsResponse = yield fetch('https://jsonplaceholder.typicode.com/albums');\r\n        const albums = yield albumsResponse.json();\r\n\r\n        yield put({ type: getAlbumsSuccess.type, payload: albums });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumsFailure.type });\r\n    }\r\n}\r\n\r\nfunction* requestAlbumMeta(action) {\r\n    try {\r\n        let firstImageResponse = yield fetch(`https://jsonplaceholder.typicode.com/albums/${action.payload}/photos?_start=0&_limit=1`);\r\n        const imagesNumber = firstImageResponse.headers.get('x-total-count');\r\n        const firstPhoto = yield firstImageResponse.json();\r\n        \r\n        yield put({\r\n            type: getAlbumMetaSuccess.type, \r\n            payload: {\r\n                thumbnailUrl: firstPhoto[0].url,\r\n                imagesNumber,\r\n                albumId: firstPhoto[0].albumId\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumMetaFailure.type });\r\n    }\r\n}\r\n\r\nfunction* requestAlbumImages(action) {\r\n    try {\r\n        let albumImagesResponse = yield fetch(`https://jsonplaceholder.typicode.com/albums/${action.payload}/photos`);\r\n        const albumImages = yield albumImagesResponse.json();\r\n        \r\n        yield put({ type: getAlbumImagesSuccess.type, payload: albumImages });\r\n    } catch (error) {\r\n        console.error(error);\r\n        yield put({ type: getAlbumImagesFailure.type });\r\n    }\r\n}\r\n\r\nfunction* albumsWatcher() {\r\n    yield takeEvery(getAlbums.type, requestAlbums);\r\n    yield takeEvery(getAlbumImages.type, requestAlbumImages);\r\n    yield takeEvery(getAlbumMeta.type, requestAlbumMeta);\r\n}\r\n\r\nexport default albumsWatcher;","import { configureStore, getDefaultMiddleware, combineReducers } from '@reduxjs/toolkit';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport sagas from './saga.js';\r\nimport albumsReducer from './slices/albumsSlice';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER\r\n} from 'redux-persist';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  version: 1,\r\n  storage\r\n}\r\n\r\nconst rootReducer = combineReducers({albums: albumsReducer});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store =  configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: [...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\r\n    }\r\n  }),  sagaMiddleware]\r\n});\r\n\r\nsagaMiddleware.run(sagas);\r\n\r\nexport default store;","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCurrentAlbumId, getAlbumMeta } from '../../redux/slices/albumsSlice';\r\nimport styles from './album.module.scss';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction Album(props) {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        dispatch(getAlbumMeta(props.id));\r\n    }, [])\r\n    \r\n    const handleClick = () => {\r\n        history.push(`/album/${props.id}`);\r\n        dispatch(setCurrentAlbumId(props.id));\r\n    }\r\n\r\n    return (\r\n        <div className={`${layout.item} ${styles.item}`} onClick={handleClick}>\r\n            {props.thumbnailUrl && <img  className={styles.thumbnail} src={props.thumbnailUrl} alt={props.title} />}\r\n            <div className={styles.meta}>\r\n                <span className={styles.name}>{props.title}</span>\r\n                {props.imagesNumber && <span className={styles.label}>{props.imagesNumber} images</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Album;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getAlbums, reset } from '../../redux/slices/albumsSlice';\r\nimport Album from '../Album';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction AlbumsList() {\r\n    const dispatch = useDispatch();\r\n    const albums = useSelector(state => state.albums);\r\n\r\n    useEffect(() => {\r\n        dispatch(reset());\r\n        dispatch(getAlbums());\r\n    }, []);\r\n    \r\n    return (\r\n        <div className={layout.gallery}>\r\n            {albums.items.map(album => <Album key={album.id} {...album} />)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AlbumsList;","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrentImage, openPopup } from '../../redux/slices/albumsSlice';\r\nimport layout from '../../scss/layout.module.scss';\r\nimport styles from './image.module.scss';\r\n\r\nfunction Image(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = () => {\r\n        dispatch(openPopup());\r\n        dispatch(setCurrentImage(props.id));\r\n    }\r\n\r\n    return (\r\n        <div className={layout.item} onClick={handleClick}>\r\n            <img className={styles.item} src={props.url} alt={props.title} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Image;","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setCurrentImage, closePopup } from '../../redux/slices/albumsSlice';\r\nimport styles from './popup.module.scss';\r\n\r\nfunction Popup(props) {\r\n    const dispatch = useDispatch();\r\n    const currentAlbumImages = useSelector(state => state.albums.currentAlbumImages);\r\n    const currentImage = useSelector(state => state.albums.currentImage);\r\n    const [offset, setOffset] = useState(0);\r\n\r\n    const handleImageClick = id => () => {\r\n        dispatch(setCurrentImage(id));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        dispatch(closePopup());\r\n    }\r\n\r\n    const handleLeftClick = () => {\r\n        if (offset > 0) {\r\n            setOffset(offset - 1);\r\n        }\r\n    }\r\n\r\n    const handleRightClick = () => {\r\n        if (offset < currentAlbumImages.length) {\r\n            setOffset(offset + 1);\r\n        }\r\n    }\r\n\r\n    const handlePrev = () => {\r\n        const currentImageIndex = currentAlbumImages.findIndex(image => image.id === currentImage.id);\r\n        if (currentImageIndex > 0) {\r\n            dispatch(setCurrentImage(currentAlbumImages[currentImageIndex - 1].id));\r\n        }\r\n    }\r\n\r\n    const handleNext = () => {\r\n        const currentImageIndex = currentAlbumImages.findIndex(image => image.id === currentImage.id);\r\n        if (currentImageIndex <= currentAlbumImages.length - 2) {\r\n            dispatch(setCurrentImage(currentAlbumImages[currentImageIndex].id + 1));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.popup}>\r\n            <div className={styles.content}>\r\n                <div className={styles.viewport}>\r\n                    <img className={styles.image} src={currentImage.url} alt={props.alt}/>\r\n                    <button className={`${styles.navigation} ${styles.navigationPrev}`} onClick={handlePrev} />\r\n                    <button className={`${styles.navigation} ${styles.navigationNext}`} onClick={handleNext} />\r\n                </div>\r\n                <button className={styles.close} onClick={handleClose} />\r\n                <div className={styles.carousel}>\r\n                    {offset > 0 && <button className={`${styles.arrow} ${styles.arrowLeft}`} onClick={handleLeftClick} />}\r\n                    {offset < currentAlbumImages.length - 1 && <button className={`${styles.arrow} ${styles.arrowRight}`} onClick={handleRightClick} />}\r\n                    <div className={styles.carouselContent} style={{left: -offset * 9 + 'rem'}}>\r\n                        {currentAlbumImages && currentAlbumImages.map(image => <img \r\n                            key={image.id} \r\n                            className={styles.carouselItem} \r\n                            src={image.thumbnailUrl} \r\n                            alt={image.title} \r\n                            onClick={handleImageClick(image.id)}\r\n                        />)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Popup;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getAlbumImages } from '../../redux/slices/albumsSlice';\r\nimport Image from '../Image';\r\nimport Popup from '../Popup';\r\nimport layout from '../../scss/layout.module.scss';\r\n\r\nfunction ImagesList() {\r\n    const dispatch = useDispatch();\r\n    const currentAlbumId = useSelector(state => state.albums.currentAlbumId);\r\n    const currentAlbumImages = useSelector(state => state.albums.currentAlbumImages);\r\n    const popapIsOpenned = useSelector(state => state.albums.popapIsOpenned);\r\n\r\n    useEffect(() => {\r\n        dispatch(getAlbumImages(currentAlbumId));\r\n    }, []);\r\n    \r\n    return (\r\n        <div className={layout.gallery}>\r\n            {popapIsOpenned &&  <Popup />}\r\n            {currentAlbumImages && currentAlbumImages.map(image => <Image key={image.id} {...image} />)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagesList;","import React from 'react';\r\nimport styles from './loader.module.scss';\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={styles.loader}></div>\r\n    );\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport AlbumList from '../AlbumsList';\r\nimport ImagesList from '../ImagesList';\r\nimport Loader from '../Loader';\r\nimport typography from '../../scss/typography.module.scss';\r\n\r\nfunction App() {\r\n  const isLoading = useSelector(state => state.albums.isLoading);\r\n\r\n  return (\r\n    <Router basename=\"/react-gallery\">\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <h1 className={typography.h1}>Albums</h1>\r\n          {isLoading && <Loader />}\r\n          <AlbumList />\r\n        </Route>\r\n        <Route path='/album'>\r\n          <h1 className={typography.h1}><Link className={`${typography.h1} ${typography.a}`} to='/'>Back to albums</Link></h1>\r\n          {isLoading && <Loader />}\r\n          <ImagesList />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport App from './components/App';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { persistStore } from 'redux-persist';\r\nimport './base.scss';\r\n\r\nlet persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"popup_popup__2YH9o\",\"content\":\"popup_content__3VHBz\",\"close\":\"popup_close__3KaXq\",\"navigation\":\"popup_navigation__3Wnr6\",\"navigationPrev\":\"popup_navigationPrev__q9f0D\",\"navigationNext\":\"popup_navigationNext__2a18i\",\"viewport\":\"popup_viewport__zkdCj\",\"image\":\"popup_image__2uNB1\",\"carousel\":\"popup_carousel__9ZFPa\",\"arrow\":\"popup_arrow__3CqmY\",\"carouselContent\":\"popup_carouselContent__3uJKs\",\"carouselItem\":\"popup_carouselItem__2qF0f\",\"arrowLeft\":\"popup_arrowLeft__1G9Un\",\"arrowRight\":\"popup_arrowRight__1J-7z\"};"],"sourceRoot":""}