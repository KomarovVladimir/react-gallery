(this["webpackJsonpreact-gallery"]=this["webpackJsonpreact-gallery"]||[]).push([[0],{13:function(e,t,a){e.exports={popup:"popup_popup__2YH9o",content:"popup_content__3VHBz",close:"popup_close__3KaXq",image:"popup_image__2uNB1",carousel:"popup_carousel__9ZFPa",arrow:"popup_arrow__3CqmY",carouselContent:"popup_carouselContent__3uJKs",carouselItem:"popup_carouselItem__2qF0f",arrowLeft:"popup_arrowLeft__1G9Un",arrowRight:"popup_arrowRight__1J-7z"}},14:function(e,t,a){e.exports={gallery:"layout_gallery__3womD",item:"layout_item__2R4Y3",appear:"layout_appear__2iSgk"}},21:function(e,t,a){e.exports={item:"album_item__HqEl5",thumbnail:"album_thumbnail__f6ICF",meta:"album_meta__3zpkn",name:"album_name__3czYe",label:"album_label__2Ju1L"}},25:function(e,t,a){e.exports={h1:"typography_h1__kQ9fz",a:"typography_a__8hNGT"}},38:function(e,t,a){e.exports={item:"image_item__326qo"}},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(1),r=a.n(n),s=a(26),u=a.n(s),o=a(7),l=a(20),i=a(24),m=a(40),b=a(16),p=a.n(b),j=a(15),d=a(37),f=a(17),g={items:[],currentAlbumImages:[],currentImage:{},isLoading:!1,popapIsOpenned:!1},O=Object(i.b)({name:"albums",initialState:g,reducers:{reset:function(e){return g},getAlbums:function(e){e.isLoading=!0},getAlbumsSuccess:function(e,t){e.isLoading=!1,e.items=Object(l.a)(t.payload)},getAlbumsFailure:function(e){e.isLoading=!1},setCurrentAlbumId:function(e,t){e.currentAlbumId=t.payload},getAlbumImages:function(e){e.isLoading=!0},getAlbumImagesSuccess:function(e,t){e.isLoading=!1,e.currentAlbumImages=Object(l.a)(t.payload)},getAlbumImagesFailure:function(e){e.isLoading=!1},getImages:function(e){e.isLoading=!0},getImagesSuccess:function(e,t){e.isLoading=!1,e.items=Object(l.a)(t.payload)},getImagesFailure:function(e){e.isLoading=!1},setCurrentImage:function(e,t){e.currentImage=e.currentAlbumImages.find((function(e){return e.id===t.payload}))},openPopup:function(e){e.popapIsOpenned=!0},closePopup:function(e){e.popapIsOpenned=!1}}}),h=O.actions,_=h.reset,x=h.getAlbums,v=h.getAlbumsSuccess,y=h.getAlbumsFailure,I=h.getAlbumImages,N=h.getAlbumImagesSuccess,A=h.getAlbumImagesFailure,k=h.setCurrentAlbumId,w=h.setCurrentImage,C=h.openPopup,L=h.closePopup,S=O.reducer,F=p.a.mark(J),q=p.a.mark(P),z=p.a.mark(R);function J(){var e,t,a,c,n,r,s,u,o;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,fetch("https://jsonplaceholder.typicode.com/albums?_start=0&_limit=16");case 3:return e=l.sent,l.next=6,e.json();case 6:t=l.sent,a=[],c=Object(d.a)(t),l.prev=9,c.s();case 11:if((n=c.n()).done){l.next=23;break}return r=n.value,l.next=15,fetch("https://jsonplaceholder.typicode.com/albums/".concat(r.id,"/photos?_start=0&_limit=1"));case 15:return s=l.sent,u=s.headers.get("x-total-count"),l.next=19,s.json();case 19:o=l.sent,a.push(Object(j.a)(Object(j.a)({},r),{},{thumbnailUrl:o[0].url,imagesNumber:u}));case 21:l.next=11;break;case 23:l.next=28;break;case 25:l.prev=25,l.t0=l.catch(9),c.e(l.t0);case 28:return l.prev=28,c.f(),l.finish(28);case 31:return l.next=33,Object(f.a)({type:v.type,payload:a});case 33:l.next=40;break;case 35:return l.prev=35,l.t1=l.catch(0),console.error(l.t1),l.next=40,Object(f.a)({type:y.type});case 40:case"end":return l.stop()}}),F,null,[[0,35],[9,25,28,31]])}function P(e){var t,a;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("https://jsonplaceholder.typicode.com/albums/".concat(e.payload,"/photos"));case 3:return t=c.sent,c.next=6,t.json();case 6:return a=c.sent,c.next=9,Object(f.a)({type:N.type,payload:a});case 9:c.next=16;break;case 11:return c.prev=11,c.t0=c.catch(0),console.error(c.t0),c.next=16,Object(f.a)({type:A.type});case 16:case"end":return c.stop()}}),q,null,[[0,11]])}function R(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(x.type,J);case 2:return e.next=4,Object(f.b)(I.type,P);case 4:case"end":return e.stop()}}),z)}var B=R,E=Object(m.a)(),U=Object(i.a)({reducer:{albums:S},middleware:[].concat(Object(l.a)(Object(i.c)()),[E])});E.run(B);var Y=U,H=a(29),G=a(6),K=a(21),D=a.n(K),M=a(14),Q=a.n(M);var T=function(e){var t=Object(o.b)(),a=Object(G.f)();return Object(c.jsxs)("div",{className:"".concat(Q.a.item," ").concat(D.a.item),onClick:function(){a.push("/album/".concat(e.title)),t(k(e.id))},children:[Object(c.jsx)("img",{className:D.a.thumbnail,src:e.thumbnailUrl,alt:e.title}),Object(c.jsxs)("div",{className:D.a.meta,children:[Object(c.jsx)("span",{className:D.a.name,children:e.title}),Object(c.jsxs)("span",{className:D.a.label,children:[e.imagesNumber," images"]})]})]})};var V=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.albums}));return Object(n.useEffect)((function(){e(_()),e(x())}),[]),Object(c.jsx)("div",{className:Q.a.gallery,children:t.items.map((function(e){return Object(c.jsx)(T,Object(j.a)({},e),e.id)}))})},X=a(38),Z=a.n(X);var W=function(e){var t=Object(o.b)();return Object(c.jsx)("div",{className:Q.a.item,onClick:function(){t(C()),t(w(e.id))},children:Object(c.jsx)("img",{className:Z.a.item,src:e.url,alt:e.title})})},$=a(39),ee=a(13),te=a.n(ee);var ae=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.albums.currentAlbumImages})),r=Object(o.c)((function(e){return e.albums.currentImage})),s=Object(n.useState)(0),u=Object($.a)(s,2),l=u[0],i=u[1];return Object(c.jsx)("div",{className:te.a.popup,children:Object(c.jsxs)("div",{className:te.a.content,children:[Object(c.jsx)("img",{className:te.a.image,src:r.url,alt:e.alt}),Object(c.jsx)("button",{className:te.a.close,onClick:function(){t(L())},children:"Close"}),Object(c.jsxs)("div",{className:te.a.carousel,children:[l>0&&Object(c.jsx)("button",{className:"".concat(te.a.arrow," ").concat(te.a.arrowLeft),onClick:function(){l>0&&i(l-1)},children:"Left"}),l<a.length-1&&Object(c.jsx)("button",{className:"".concat(te.a.arrow," ").concat(te.a.arrowRight),onClick:function(){l<a.length&&i(l+1)},children:"Right"}),Object(c.jsx)("div",{className:te.a.carouselContent,style:{left:9*-l+"rem"},children:a&&a.map((function(e){return Object(c.jsx)("img",{className:te.a.carouselItem,src:e.thumbnailUrl,alt:e.title,onClick:(a=e.id,function(){t(w(a))})},e.id);var a}))})]})]})})};var ce=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.albums.currentAlbumId})),a=Object(o.c)((function(e){return e.albums.currentAlbumImages})),r=Object(o.c)((function(e){return e.albums.popapIsOpenned}));return Object(n.useEffect)((function(){e(I(t))}),[]),Object(c.jsxs)("div",{className:Q.a.gallery,children:[r&&Object(c.jsx)(ae,{}),a&&a.map((function(e){return Object(c.jsx)(W,Object(j.a)({},e),e.id)}))]})},ne=a(25),re=a.n(ne);var se=function(){return Object(c.jsx)(H.a,{basename:"/react-gallery",children:Object(c.jsxs)(G.c,{children:[Object(c.jsxs)(G.a,{exact:!0,path:"/",children:[Object(c.jsx)("h1",{className:re.a.h1,children:"Albums"}),Object(c.jsx)(V,{})]}),Object(c.jsxs)(G.a,{path:"/album",children:[Object(c.jsx)("h1",{className:re.a.h1,children:Object(c.jsx)(H.b,{className:"".concat(re.a.h1," ").concat(re.a.a),to:"/",children:"Back to albums"})}),Object(c.jsx)(ce,{})]})]})})};a(52);u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:Y,children:Object(c.jsx)(se,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.c82f3203.chunk.js.map