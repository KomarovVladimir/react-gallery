(this["webpackJsonpreact-gallery"]=this["webpackJsonpreact-gallery"]||[]).push([[0],{17:function(e,t,a){e.exports={gallery:"layout_gallery__3womD",item:"layout_item__2R4Y3",appear:"layout_appear__2iSgk"}},21:function(e,t,a){e.exports={item:"album_item__HqEl5",thumbnail:"album_thumbnail__f6ICF",meta:"album_meta__3zpkn",name:"album_name__3czYe",label:"album_label__2Ju1L"}},25:function(e,t,a){e.exports={h1:"typography_h1__kQ9fz",a:"typography_a__8hNGT"}},39:function(e,t,a){e.exports={item:"image_item__326qo"}},40:function(e,t,a){e.exports={loader:"loader_loader__1cg14",loading:"loader_loading__1KCrl"}},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),r=a.n(c),s=a(26),o=a.n(s),u=a(7),i=a(20),l=a(8),b=a(24),m=a(43),p=a(16),j=a.n(p),d=a(15),g=a(18),f={items:[],currentAlbumImages:[],currentImage:{},isLoading:!1,popapIsOpenned:!1},O=Object(b.b)({name:"albums",initialState:f,reducers:{reset:function(e){return f},getAlbums:function(e){e.isLoading=!0},getAlbumsSuccess:function(e,t){e.isLoading=!1,e.items=Object(i.a)(t.payload)},getAlbumsFailure:function(e){e.isLoading=!1},getAlbumMeta:function(e){e.isLoading=!0},getAlbumMetaSuccess:function(e,t){e.isLoading=!1,e.items=e.items.map((function(e){return e.id===t.payload.albumId?Object(g.a)(Object(g.a)({},e),{},{imagesNumber:t.payload.imagesNumber,thumbnailUrl:t.payload.thumbnailUrl}):e}))},getAlbumMetaFailure:function(e){e.isLoading=!1},setCurrentAlbumId:function(e,t){e.currentAlbumId=t.payload},getAlbumImages:function(e){e.isLoading=!0},getAlbumImagesSuccess:function(e,t){e.isLoading=!1,e.currentAlbumImages=Object(i.a)(t.payload)},getAlbumImagesFailure:function(e){e.isLoading=!1},getImages:function(e){e.isLoading=!0},getImagesSuccess:function(e,t){e.isLoading=!1,e.items=Object(i.a)(t.payload)},getImagesFailure:function(e){e.isLoading=!1},setCurrentImage:function(e,t){e.currentImage=e.currentAlbumImages.find((function(e){return e.id===t.payload}))},openPopup:function(e){e.popapIsOpenned=!0},closePopup:function(e){e.popapIsOpenned=!1}}}),_=O.actions,x=_.reset,h=_.getAlbums,v=_.getAlbumsSuccess,y=_.getAlbumsFailure,I=_.getAlbumMeta,N=_.getAlbumMetaSuccess,A=_.getAlbumMetaFailure,w=_.getAlbumImages,k=_.getAlbumImagesSuccess,C=_.getAlbumImagesFailure,L=_.setCurrentAlbumId,S=_.setCurrentImage,F=_.openPopup,P=_.closePopup,z=O.reducer,M=j.a.mark(J),U=j.a.mark(B),q=j.a.mark(R),E=j.a.mark(Y);function J(){var e,t;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://jsonplaceholder.typicode.com/albums");case 3:return e=a.sent,a.next=6,e.json();case 6:return t=a.sent,a.next=9,Object(d.a)({type:v.type,payload:t});case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),console.error(a.t0),a.next=16,Object(d.a)({type:y.type});case 16:case"end":return a.stop()}}),M,null,[[0,11]])}function B(e){var t,a,n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("https://jsonplaceholder.typicode.com/albums/".concat(e.payload,"/photos?_start=0&_limit=1"));case 3:return t=c.sent,a=t.headers.get("x-total-count"),c.next=7,t.json();case 7:return n=c.sent,c.next=10,Object(d.a)({type:N.type,payload:{thumbnailUrl:n[0].url,imagesNumber:a,albumId:n[0].albumId}});case 10:c.next=17;break;case 12:return c.prev=12,c.t0=c.catch(0),console.error(c.t0),c.next=17,Object(d.a)({type:A.type});case 17:case"end":return c.stop()}}),U,null,[[0,12]])}function R(e){var t,a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://jsonplaceholder.typicode.com/albums/".concat(e.payload,"/photos"));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.next=9,Object(d.a)({type:k.type,payload:a});case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),console.error(n.t0),n.next=16,Object(d.a)({type:C.type});case 16:case"end":return n.stop()}}),q,null,[[0,11]])}function Y(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(h.type,J);case 2:return e.next=4,Object(d.b)(w.type,R);case 4:return e.next=6,Object(d.b)(I.type,B);case 6:case"end":return e.stop()}}),E)}var H=Y,K=a(38),D=a.n(K),G=a(14),Q={key:"root",version:1,storage:D.a},T=Object(l.c)({albums:z}),V=Object(G.g)(Q,T),W=Object(m.a)(),X=Object(b.a)({reducer:V,middleware:[].concat(Object(i.a)(Object(b.c)({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}})),[W])});W.run(H);var Z=X,$=a(30),ee=a(6),te=a(21),ae=a.n(te),ne=a(17),ce=a.n(ne);var re=function(e){var t=Object(u.b)(),a=Object(ee.f)();return Object(c.useEffect)((function(){t(I(e.id))}),[]),Object(n.jsxs)("div",{className:"".concat(ce.a.item," ").concat(ae.a.item),onClick:function(){a.push("/album/".concat(e.id)),t(L(e.id))},children:[e.thumbnailUrl&&Object(n.jsx)("img",{className:ae.a.thumbnail,src:e.thumbnailUrl,alt:e.title}),Object(n.jsxs)("div",{className:ae.a.meta,children:[Object(n.jsx)("span",{className:ae.a.name,children:e.title}),e.imagesNumber&&Object(n.jsxs)("span",{className:ae.a.label,children:[e.imagesNumber," images"]})]})]})};var se=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.albums}));return Object(c.useEffect)((function(){e(x()),e(h())}),[]),Object(n.jsx)("div",{className:ce.a.gallery,children:t.items.map((function(e){return Object(n.jsx)(re,Object(g.a)({},e),e.id)}))})},oe=a(39),ue=a.n(oe);var ie=function(e){var t=Object(u.b)();return Object(n.jsx)("div",{className:ce.a.item,onClick:function(){t(F()),t(S(e.id))},children:Object(n.jsx)("img",{className:ue.a.item,src:e.url,alt:e.title})})},le=a(42),be=a(9),me=a.n(be);var pe=function(e){var t=Object(u.b)(),a=Object(u.c)((function(e){return e.albums.currentAlbumImages})),r=Object(u.c)((function(e){return e.albums.currentImage})),s=Object(c.useState)(0),o=Object(le.a)(s,2),i=o[0],l=o[1];return Object(n.jsx)("div",{className:me.a.popup,children:Object(n.jsxs)("div",{className:me.a.content,children:[Object(n.jsxs)("div",{className:me.a.viewport,children:[Object(n.jsx)("img",{className:me.a.image,src:r.url,alt:e.alt}),Object(n.jsx)("button",{className:"".concat(me.a.navigation," ").concat(me.a.navigationPrev),onClick:function(){var e=a.findIndex((function(e){return e.id===r.id}));e>0&&t(S(a[e-1].id))}}),Object(n.jsx)("button",{className:"".concat(me.a.navigation," ").concat(me.a.navigationNext),onClick:function(){var e=a.findIndex((function(e){return e.id===r.id}));e<=a.length-2&&t(S(a[e].id+1))}})]}),Object(n.jsx)("button",{className:me.a.close,onClick:function(){t(P())}}),Object(n.jsxs)("div",{className:me.a.carousel,children:[i>0&&Object(n.jsx)("button",{className:"".concat(me.a.arrow," ").concat(me.a.arrowLeft),onClick:function(){i>0&&l(i-1)}}),i<a.length-1&&Object(n.jsx)("button",{className:"".concat(me.a.arrow," ").concat(me.a.arrowRight),onClick:function(){i<a.length&&l(i+1)}}),Object(n.jsx)("div",{className:me.a.carouselContent,style:{left:9*-i+"rem"},children:a&&a.map((function(e){return Object(n.jsx)("img",{className:me.a.carouselItem,src:e.thumbnailUrl,alt:e.title,onClick:(a=e.id,function(){t(S(a))})},e.id);var a}))})]})]})})};var je=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.albums.currentAlbumId})),a=Object(u.c)((function(e){return e.albums.currentAlbumImages})),r=Object(u.c)((function(e){return e.albums.popapIsOpenned}));return Object(c.useEffect)((function(){e(w(t))}),[]),Object(n.jsxs)("div",{className:ce.a.gallery,children:[r&&Object(n.jsx)(pe,{}),a&&a.map((function(e){return Object(n.jsx)(ie,Object(g.a)({},e),e.id)}))]})},de=a(40),ge=a.n(de);var fe=function(){return Object(n.jsx)("div",{className:ge.a.loader})},Oe=a(25),_e=a.n(Oe);var xe=function(){var e=Object(u.c)((function(e){return e.albums.isLoading}));return Object(n.jsx)($.a,{basename:"/react-gallery",children:Object(n.jsxs)(ee.c,{children:[Object(n.jsxs)(ee.a,{exact:!0,path:"/",children:[Object(n.jsx)("h1",{className:_e.a.h1,children:"Albums"}),e&&Object(n.jsx)(fe,{}),Object(n.jsx)(se,{})]}),Object(n.jsxs)(ee.a,{path:"/album",children:[Object(n.jsx)("h1",{className:_e.a.h1,children:Object(n.jsx)($.b,{className:"".concat(_e.a.h1," ").concat(_e.a.a),to:"/",children:"Back to albums"})}),e&&Object(n.jsx)(fe,{}),Object(n.jsx)(je,{})]})]})})},he=a(41),ve=(a(57),Object(G.h)(Z));o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(u.a,{store:Z,children:Object(n.jsx)(he.a,{loading:null,persistor:ve,children:Object(n.jsx)(xe,{})})})}),document.getElementById("root"))},9:function(e,t,a){e.exports={popup:"popup_popup__2YH9o",content:"popup_content__3VHBz",close:"popup_close__3KaXq",navigation:"popup_navigation__3Wnr6",navigationPrev:"popup_navigationPrev__q9f0D",navigationNext:"popup_navigationNext__2a18i",viewport:"popup_viewport__zkdCj",image:"popup_image__2uNB1",carousel:"popup_carousel__9ZFPa",arrow:"popup_arrow__3CqmY",carouselContent:"popup_carouselContent__3uJKs",carouselItem:"popup_carouselItem__2qF0f",arrowLeft:"popup_arrowLeft__1G9Un",arrowRight:"popup_arrowRight__1J-7z"}}},[[58,1,2]]]);
//# sourceMappingURL=main.7f3748fc.chunk.js.map